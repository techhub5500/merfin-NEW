/* ========================================
   AUTENTICAÇÃO - ADAPTADO À IDENTIDADE
   Alinhado a `style.css` (tokens, tipografia,
   paleta e espaçamentos)
   ======================================== */

/* --- Modal Overlay & Container --- */
.auth-modal {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--transition-default);
}

.auth-modal.active {
  opacity: 1;
  pointer-events: all;
}

.auth-modal__overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(8px) saturate(120%);
}

.auth-modal__container {
  position: relative;
  /* aumentado 25%: 540px -> 675px */
  width: min(675px, 94%);
  /* fundo com opacidade 0.3 (mais translúcido) */
  background: linear-gradient(135deg, rgba(15,16,20,0.3), rgba(17,24,39,0.3));
  color: var(--text-primary);
  border-radius: var(--border-radius);
  padding: calc(var(--card-padding) * 0.9);
  /* borda visível com opacidade 0.15 */
  box-shadow: 0 18px 10px rgba(0,0,0,0.55);
  border: 1px solid rgba(255,255,255,0.15);
  transform: translateY(6px) scale(0.995);
  transition: transform var(--transition-default), opacity var(--transition-default);
}

/* Smooth entry (reduced-impact) */
@media (prefers-reduced-motion: no-preference) {
  .auth-modal__container { animation: modalEnter 360ms cubic-bezier(.2,.9,.16,1) both; }
}

@keyframes modalEnter {
  from { transform: translateY(18px) scale(.98); opacity: 0; }
  to   { transform: translateY(0) scale(1); opacity: 1; }
}

/* --- Header --- */
.auth-modal__header { text-align: center; margin-bottom: 1.5rem; }
.auth-modal__title { font-family: 'Inter', sans-serif; font-size: 1.75rem; font-weight: 700; margin: 0 0 .25rem; }
.auth-modal__subtitle { font-size: .9375rem; color: var(--text-muted); margin: 0; }

/* --- Tabs --- */
.auth-tabs {
  display:flex; gap:.5rem; margin: 1rem 0 1.25rem; padding:.35rem; background: rgba(255,255,255,0.02); border-radius: calc(var(--border-radius-sm));
}

.auth-tab {
  flex:1; padding:.6rem 1rem; background: rgba(255,255,255,0.16); border: 1px solid rgba(255,255,255,0.25); border-radius: calc(var(--border-radius-sm));
  font-weight: 500; color: var(--text-secondary); cursor: pointer; position: relative; overflow: hidden;
  transition: color var(--transition-fast), background var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
}

.auth-tab:hover { color: var(--text-primary); }

.auth-tab--active { color: #fff; }
.auth-tab--active { background: linear-gradient(135deg, rgba(var(--color-primary-rgb),0.12), rgba(167,139,250,0.06)); box-shadow: inset 0 -2px 0 rgba(255,255,255,0.02); border-color: rgba(255,255,255,0.25); }

.auth-tab span { position: relative; z-index:1; }

/* --- Panels --- */
.auth-panels { position: relative; }
.auth-panel { display:none; }
.auth-panel--active { display:block; }

@keyframes panelSlide { from{opacity:0; transform:translateX(-6px)} to{opacity:1; transform:none} }
.auth-panel--active { animation: panelSlide .28s ease both; }

/* --- Form Styles --- */
.auth-form { display:flex; flex-direction:column; gap:1rem; }
.form-group { display:flex; flex-direction:column; gap:.5rem; }
.form-label { font-size:.9rem; font-weight:500; color:var(--text-secondary); }

.form-input-wrapper { position:relative; display:flex; align-items:center; }
.form-icon { position:absolute; left:14px; width:18px; height:18px; color:rgba(255,255,255,.28); pointer-events:none; transition:color var(--transition-fast); }

.form-input {
  width:100%; padding:12px 14px 12px 44px; background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.2); border-radius: var(--border-radius-sm);
  color: var(--text-primary); font-size: .95rem; font-family: 'Inter', sans-serif; outline:none;
  transition: box-shadow var(--transition-default), border-color var(--transition-default), background var(--transition-default);
}

.form-input::placeholder { color: rgba(255,255,255,0.28); }
.form-input:focus { border-color: rgba(var(--color-primary-rgb),0.9); box-shadow: 0 6px 18px rgba(var(--color-primary-rgb),0.06); background: rgba(255,255,255,0.02); }
.form-input:focus + .form-icon { color: rgba(var(--color-primary-rgb),0.9); }

.form-input.error { border-color: rgba(var(--color-danger-rgb),0.95); }

@keyframes shake { 0%,100%{transform:none} 25%{transform:translateX(-6px)} 75%{transform:translateX(6px)} }
.form-input.error { animation: shake .38s ease; }

/* --- Password Toggle --- */
.password-toggle { position:absolute; right:12px; background: rgba(255,255,255,0.16); border: 1px solid rgba(255,255,255,0.25); padding:6px; color:rgba(255,255,255,0.36); cursor:pointer; border-radius: 8px; }
.password-toggle:hover { color: var(--text-primary); box-shadow: 0 6px 14px rgba(0,0,0,0.45); }

/* ícone interno (ver senha) com fundo opaco 0.2 */
.password-toggle-icon { width:20px; height:20px; display:inline-flex; align-items:center; justify-content:center; background: rgba(255,255,255,0.2); border-radius: 4px; }

/* --- Error Messages --- */
.form-error { font-size:.85rem; color: rgba(var(--color-danger-rgb),0.95); min-height:18px; padding-left:4px; }
.form-error:empty { display:none; }

/* --- Submit Button --- */
.auth-submit-btn {
  margin-top:.25rem; padding:12px 18px; border-radius: calc(var(--border-radius-sm));
  font-size:1rem; font-weight:600; color:#fff; cursor:pointer; display:inline-flex; align-items:center; justify-content:center;
  background: linear-gradient(135deg, rgba(var(--color-primary-rgb),0.16), rgba(167,139,250,0.16));
  border: 1px solid rgba(255,255,255,0.25);
  box-shadow: 0 8px 28px rgba(var(--color-primary-rgb),0.12);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  position: relative; /* keep pseudo-element scoped to the button */
  overflow: hidden;    /* hide glow spilling outside */
}

.auth-submit-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.16), transparent);
  transform: translateX(-100%);
  transition: transform .45s ease;
  border-radius: inherit;
  pointer-events: none;
}
.auth-submit-btn:hover { transform: translateY(-2px); box-shadow: 0 12px 40px rgba(var(--color-primary-rgb),0.12); }
.auth-submit-btn:hover::before { transform: translateX(100%); }
.auth-submit-btn:active { transform:none; }
.auth-submit-btn:disabled { opacity:.6; cursor:not-allowed; }

/* --- Loader --- */
.auth-submit-loader { position:absolute; inset:auto; }
.spinner { width:18px; height:18px; border:3px solid rgba(255,255,255,0.12); border-top-color: #fff; border-radius:50%; animation: spin .8s linear infinite; }

@keyframes spin { to{ transform:rotate(360deg); } }

/* --- Form Messages --- */
.form-message { padding:.625rem .75rem; border-radius: calc(var(--border-radius-sm)); font-weight:600; font-size:.92rem; margin-top:.25rem; display:none; }
.form-message.show { display:block; }
.form-message.success { background: rgba(52,211,153,0.06); color: rgba(52,211,153,1); border: 1px solid rgba(52,211,153,0.12); }
.form-message.error { background: rgba(248,113,113,0.06); color: rgba(248,113,113,1); border:1px solid rgba(248,113,113,0.12); }

/* --- Responsive adjustments --- */
@media (max-width:640px){
  .auth-modal__container{ padding: calc(var(--card-padding) * 0.6); width:95%; }
  .auth-modal__title{ font-size:1.5rem; }
  .form-input{ padding:10px 12px 10px 44px; font-size:.92rem; }
  .auth-submit-btn{ padding:10px 14px; font-size:.98rem; }
}

/* --- Accessibility --- */
@media (prefers-reduced-motion: reduce){ .auth-modal__container, .auth-tab, .form-input, .auth-submit-btn, .auth-panel { animation:none; transition:none; } }

/* Focus-visible: consistent with platform primary color */
.auth-tab:focus-visible, .form-input:focus-visible, .auth-submit-btn:focus-visible, .password-toggle:focus-visible { outline: 2px solid rgba(var(--color-primary-rgb),0.85); outline-offset: 2px; }

/* Micro interactions */
.form-input-wrapper:hover .form-icon { color: rgba(255,255,255,0.5); }

/* Keep markup-friendly class names and small footprint */

/* --- Traffic Notice (persistent until login/register success) --- */
.traffic-notice {
  position: fixed;
  top: 15px;
  right: 15px; /* canto direito com margem 15px */
  z-index: 11000;
  /* largura reduzida 25%: 380px -> 285px */
  max-width: 285px;
  width: auto;
  /* aumentar altura ~30% aumentando padding vertical (0.8rem -> 1.04rem) */
  background: linear-gradient(180deg, rgba(15,16,20,0.3), rgba(17,24,39,0.3));
  color: var(--text-primary);
  border: 1px solid rgba(255,255,255,0.15);
  padding: 1.04rem 1rem;
  border-radius: calc(var(--border-radius-sm));
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  display: flex;
  gap: 0.75rem;
  align-items: center;
  font-size: 0.95rem;
  font-weight: 400; /* reduzido para 400 */
  font-family: 'Inter', sans-serif;
}

.traffic-notice__icon { width:20px; height:20px; display:inline-flex; align-items:center; justify-content:center; color: rgba(255,255,255,0.9); }
.traffic-notice__text { color: var(--text-primary); opacity: 0.95; }
.traffic-notice__text strong { font-weight: 700; }
.traffic-notice.hidden { display: none !important; }

/* animation for entry */
@keyframes noticeEnter {
  from { transform: translateY(-8px) translateX(8px); opacity: 0; }
  to   { transform: translateY(0) translateX(0); opacity: 1; }
}
.traffic-notice.enter { animation: noticeEnter 380ms cubic-bezier(.2,.9,.16,1) both; }

